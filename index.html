<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KCSE â€” Good Luck!</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #0f172a, #0b3d91);
      color: white;
      display: grid;
      place-items: center;
      height: 100vh;
      padding: 20px;
      text-align: center;
    }
    .card {
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 30px;
      width: min(90%, 500px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      position: relative;
    }
    h1 {
      font-size: 1.8rem;
      margin: 0;
    }
    p {
      margin-top: 8px;
      color: #dbeafe;
      font-size: 0.95rem;
    }
    button, a.btn {
      margin-top: 16px;
      display: inline-block;
      background: #ffd166;
      color: #07203b;
      font-weight: 600;
      padding: 10px 18px;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 0.15s ease;
      text-decoration: none;
    }
    button:hover, a.btn:hover { transform: scale(1.05); }
    canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }
    .tips {
      margin-top: 14px;
      font-size: 0.85rem;
      color: #c7d2fe;
    }
  </style>
</head>
<body>
  <div class="card">
    <canvas id="confetti"></canvas>
    <h1>Good luck, <span id="name">Student</span>! ðŸŽ“</h1>
    <p>Youâ€™ve studied hard â€” now go shine in your KCSE exam!</p>

    <div class="tips">
      Breathe. Focus. Believe. Youâ€™ve got this.
    </div>

    <div>
      <button id="confettiBtn">Celebrate ðŸŽ‰</button>
      <a href="#" class="btn" id="cheer">Send a Cheer</a>
    </div>
  </div>

  <script>
    // Personalize via URL ?name=Ayman
    const params = new URLSearchParams(location.search);
    const name = params.get('name') || "Student";
    document.getElementById('name').textContent = decodeURIComponent(name);

    // Confetti setup
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let w = canvas.width = window.innerWidth;
    let h = canvas.height = window.innerHeight;

    window.addEventListener("resize", () => {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    });

    const colors = ["#ff5d8f", "#ffd166", "#9ae6b4", "#60a5fa", "#c084fc"];
    const confetti = [];

    function addConfetti(n = 80) {
      for (let i = 0; i < n; i++) {
        confetti.push({
          x: Math.random() * w,
          y: Math.random() * -h,
          size: 6 + Math.random() * 6,
          color: colors[Math.floor(Math.random() * colors.length)],
          vy: 2 + Math.random() * 3,
          vx: (Math.random() - 0.5) * 2,
          rot: Math.random() * 360
        });
      }
    }

    function draw() {
      ctx.clearRect(0, 0, w, h);
      confetti.forEach((c, i) => {
        c.x += c.vx;
        c.y += c.vy;
        if (c.y > h) confetti.splice(i, 1);
        ctx.save();
        ctx.translate(c.x, c.y);
        ctx.rotate(c.rot * Math.PI / 180);
        ctx.fillStyle = c.color;
        ctx.fillRect(-c.size/2, -c.size/2, c.size, c.size);
        ctx.restore();
      });
      requestAnimationFrame(draw);
    }
    draw();

    document.getElementById("confettiBtn").onclick = () => addConfetti(100);

    // // "Send a cheer" button
    // document.getElementById("cheer").onclick = (e) => {
    //   e.preventDefault();
    //   const text = `Good luck ${name}! You've got this ðŸ’ª`;
    //   if (navigator.share) {
    //     navigator.share({ title: "Good Luck!", text });
    //   } else if (navigator.clipboard) {
    //     navigator.clipboard.writeText(text);
    //     alert("Copied your cheer message! ðŸŽ‰");
    //   } else {
    //     alert(text);
    //   }
    // };

    // Light confetti background
    addConfetti(20);
  </script>
</body>
</html>
